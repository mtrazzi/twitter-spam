tweet_id=1265308432095236096;c() { tput setaf $1; }; red=`c 1`; blue=`c 4`; green=`c 2`; normal=$(tput sgr0); N=10; redlim=$(($N / 2)); dt=0; while [ $dt -lt $N ]; do start=$SECONDS; tweet=""; while [ ${#tweet} -le $N ]; do read -rsn1 -t 0.1; c=$REPLY; dt=$(($SECONDS - $start)); if `[ $dt -lt $redlim ]`; then col=$blue; else col=$red; fi; printf -- ">>> |$tweet| ${#tweet}/$N ${col}$(($N-$dt))s left ${normal}\r"; if [ "$c" = $'\177' ] && [ -n "$tweet" ]; then tweet=${tweet::-1}; elif `[ "$c" != "" ]`; then tweet+=$c; fi; done; printf "\ntweet took $dt seconds!\n"; s=$(t reply $tweet_id ${tweet::-1} | tr -d '\n'); tweet_id=`sed 's/.*status \([0-9]*\).*/\1/' <<< $s`; done; echo "${red}YOU LOST"
